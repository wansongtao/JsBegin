<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 11: Example 12</title>
</head>
<body>
    <h2>Highway Speed Tracker</h2>
    <form action="" id="form1" name="form1">
        <p>
            <label for="driverName">Driver Name: </label>
            <input type="text" id="driverName" name="driverName" />
        </p>
        <p>
            <label for="speed">Speed (Miles/Hour): </label>
            <input type="number" id="speed" name="speed" />
            <!-- meter元素用于图形化地显示指定范围内的某个值 -->
            <meter id="speedMeter" value="0" low="55" optimum="75" high="90" max="120"></meter>
        </p>

        <p>
            <label for="vehicle">Vehicle Type: </label>
            <input type="text" id="vehicle" name="vehicle" />
        </p>
    </form>
    <p>
        Form Completion Progress: 
        <!-- progress元素表示任务的完成进度，用于跟踪用户填写表单的进度。最大值3，因为它包含三个字段 -->
        <progress id="completionProgress" max="3" value="0"></progress>
    </p>

    <script>
        var myForm = document.form1;
        var completionProgress = document.getElementById("completionProgress");
        var speedMeter = document.getElementById("speedMeter");

        function countFieldData() {
            var count = 0;

            for (var index = 0; index < myForm.length; index++) {
                var element = myForm[index];

                if(element.value) {
                    count++;
                }
            }

            return count;
        }

        function formInputChange() {
            completionProgress.value = countFieldData();

            speedMeter.value = myForm.speed.value;
        }

        //表单的input事件
        myForm.addEventListener("input", formInputChange);
    </script>
</body>
</html>