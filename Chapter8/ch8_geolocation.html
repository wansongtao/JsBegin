<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>使用Geolocation对象（特性检测）</title>
</head>
<body>
    <script>
        //google禁用获取用户的地理位置
        //获取地理位置成功后的回调函数
        function geoSuccess(position){
            var coords = position.coords;
            var latitude = coords.latitude;
            var longitude = coords.longitude;
            var altitude = coords.altitude;

            var message = "You're at " + latitude + ", " + longitude + "海拔: " + altitude;

            alert(message);
        }

        //发生错误时，执行的回调函数
        function geoError(errorObj){
            alert(errorObj.message);
        }

        //在支持Geolocation的浏览器中，类型为“object”，而在不支持的浏览器中，类型为“undefined”。
        if(typeof navigator.geolocation != "undefined"){
            //getCurrentPosition(parameter1, parameter2, parameter3)方法。第一个参数获取用户位置成功运行的回调函数，第二个参数可选，获取失败后运行的回调函数.第三个参数也是可选的，您可以通过该对象参数设定最长可接受的定位返回时间、等待请求的时间和是否获取高精度定位。
            navigator.geolocation.getCurrentPosition(geoSuccess, geoError);
        }
        else{
            alert("您好，您的浏览器不支持该特性。")
        }

        
    </script>
</body>
</html>